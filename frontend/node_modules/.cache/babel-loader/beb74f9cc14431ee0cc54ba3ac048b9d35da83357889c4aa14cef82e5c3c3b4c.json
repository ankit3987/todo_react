{"ast":null,"code":"import _objectSpread from\"/home/dml-ankit/Desktop/projects/todo_react/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Component}from\"react\";import{addTask,getTasks,updateTask,deleteTask}from\"./services/taskServices\";class Tasks extends Component{constructor(){super(...arguments);this.state={tasks:[],currentTask:\"\"};this.handleChange=_ref=>{let{currentTarget:input}=_ref;this.setState({currentTask:input.value});};this.handleSubmit=async e=>{e.preventDefault();const originalTasks=this.state.tasks;try{const{data}=await addTask({task:this.state.currentTask});const tasks=originalTasks;tasks.push(data);this.setState({tasks,currentTask:\"\"});}catch(error){console.log(error);}};this.handleUpdate=async currentTask=>{const originalTasks=this.state.tasks;try{const tasks=[...originalTasks];const index=tasks.findIndex(task=>task._id===currentTask);tasks[index]=_objectSpread({},tasks[index]);tasks[index].completed=!tasks[index].completed;this.setState({tasks});await updateTask(currentTask,{completed:tasks[index].completed});}catch(error){this.setState({tasks:originalTasks});console.log(error);}};this.handleDelete=async currentTask=>{const originalTasks=this.state.tasks;try{const tasks=originalTasks.filter(task=>task._id!==currentTask);this.setState({tasks});await deleteTask(currentTask);}catch(error){this.setState({tasks:originalTasks});console.log(error);}};}async componentDidMount(){try{const{data}=await getTasks();this.setState({tasks:data});}catch(error){console.log(error);}}}export default Tasks;","map":{"version":3,"names":["Component","addTask","getTasks","updateTask","deleteTask","Tasks","constructor","arguments","state","tasks","currentTask","handleChange","_ref","currentTarget","input","setState","value","handleSubmit","e","preventDefault","originalTasks","data","task","push","error","console","log","handleUpdate","index","findIndex","_id","_objectSpread","completed","handleDelete","filter","componentDidMount"],"sources":["/home/dml-ankit/Desktop/projects/todo_react/frontend/src/Tasks.js"],"sourcesContent":["import { Component } from \"react\";\nimport {\n    addTask,\n    getTasks,\n    updateTask,\n    deleteTask,\n} from \"./services/taskServices\";\n\nclass Tasks extends Component {\n    state = { tasks: [], currentTask: \"\" };\n\n    async componentDidMount() {\n        try {\n            const { data } = await getTasks();\n            this.setState({ tasks: data });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    handleChange = ({ currentTarget: input }) => {\n        this.setState({ currentTask: input.value });\n    };\n\n    handleSubmit = async (e) => {\n        e.preventDefault();\n        const originalTasks = this.state.tasks;\n        try {\n            const { data } = await addTask({ task: this.state.currentTask });\n            const tasks = originalTasks;\n            tasks.push(data);\n            this.setState({ tasks, currentTask: \"\" });\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    handleUpdate = async (currentTask) => {\n        const originalTasks = this.state.tasks;\n        try {\n            const tasks = [...originalTasks];\n            const index = tasks.findIndex((task) => task._id === currentTask);\n            tasks[index] = { ...tasks[index] };\n            tasks[index].completed = !tasks[index].completed;\n            this.setState({ tasks });\n            await updateTask(currentTask, {\n                completed: tasks[index].completed,\n            });\n        } catch (error) {\n            this.setState({ tasks: originalTasks });\n            console.log(error);\n        }\n    };\n\n    handleDelete = async (currentTask) => {\n        const originalTasks = this.state.tasks;\n        try {\n            const tasks = originalTasks.filter(\n                (task) => task._id !== currentTask\n            );\n            this.setState({ tasks });\n            await deleteTask(currentTask);\n        } catch (error) {\n            this.setState({ tasks: originalTasks });\n            console.log(error);\n        }\n    };\n}\n\nexport default Tasks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}